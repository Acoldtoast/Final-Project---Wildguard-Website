{% extends "base.html" %}

{% block title %}Manage Articles â€” WildGuard{% endblock %}

{% block content %}
	<section class="hero">
		<h2>Manage Related Articles</h2>
		<p class="muted">Add, edit, or remove conservation-related articles.</p>
	</section>

	<section>
		<div class="admin-header">
			<h3>Articles</h3>
			<a href="{{ url_for('admin.edit_article') }}" class="btn">+ Add New Article</a>
		</div>

		{% if articles %}
			<table class="admin-table">
				<thead>
					<tr>
						<th>Title</th>
						<th>Category</th>
						<th>Description</th>
						<th>Actions</th>
					</tr>
				</thead>
				<tbody>
					{% for article in articles %}
					<tr>
						<td><strong>{{ article.title }}</strong></td>
						<td><span class="badge">{{ article.category }}</span></td>
						<td>{{ article.description[:80] }}...</td>
						<td>
							<a href="{{ url_for('admin.edit_article', id=article.article_id) }}" class="btn btn-small">Edit</a>
							<form method="POST" action="{{ url_for('admin.delete_article', id=article.article_id) }}" class="inline-form">
								<button type="submit" class="btn btn-small btn-danger" onclick="return confirm('Delete this article?')">Delete</button>
							</form>
						</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
		{% else %}
			<p class="muted">No articles found. <a href="{{ url_for('admin.edit_article') }}">Add one now</a>.</p>
		{% endif %}
	</section>

{% endblock %}
